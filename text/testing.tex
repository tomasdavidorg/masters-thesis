Testing of applications is very important part of the development. During this phase, a~large number of bugs is often
detected and critical problems can be also discovered. Measurement is as well counted to the testing because it can
reveal performance problems.

Section~\ref{TestingSection} is focused on testing devices and describes performed comparative measurements.
Section~\ref{FutureWorkSection} describes future work which shows direction of the continuation of the project and
points out to the important parts which can be implemented or improved.

\section{Testing}\label{TestingSection}
This section introduces testing devices and describes performed comparative measurements. It focuses on comparison
between mobile devices and desktop computer which differ especially in their performance.

\subsubsection{Devices}
The application is tested on several devices during and also after development. Table~\ref{TestingDevicesTable} shows
testing devices and their important parameters. Some issues which are associated to them are described in following
paragraphs.

First of the parameters is Android version which specifies supported parts of Android features. Most of the problems are
related with unsupported functions and they are usually detected by compiler. However, from time to time some problems
can appear and therefore it is better to test application on various versions of Android system.

Next parameters are display size and display resolution which together define density of the screens points. Every
device has different display density and component layout must be well designed to fit to many devices screens. Another
problem appears after the screen rotation. Display sides are exchanded and components layout must be adapted.

Last parameters are number of CPU cores, CPU and RAM. They define device speed and computing capabilities. Because this
application calculates with many values, some tests and measurements which compare these devices are performed.

The application is tested on the five devices in total. Four of them are mobile phones, one is tablet and the last one
is Android emulator. Emulator is a~virtual mobile device that runs on a~desktop computer. Parameters of emulator can be
selected as necessary except of CPU which is inherited from host computer and adjusted according to operating system
capabilities.
\\
\begin{table}[h!]
    \scalebox{0.9}{
        \begin{tabular}{|c|c|c|c|c|c|c|}
            \hline
            \textbf{Device} &
            \multicolumn{1}{p{1.5cm}|}{\centering \textbf{Android version}} &
            \multicolumn{1}{p{1.5cm}|}{\centering \textbf{Display size [inches]}} &
            \multicolumn{1}{p{2cm}|}{\centering \textbf{Display resolution [pixels]}} &
            \multicolumn{1}{p{1cm}|}{\centering \textbf{CPU cores}} &
            \multicolumn{1}{p{2cm}|}{\centering \textbf{\textbf{CPU [GHz]}}} &
            \multicolumn{1}{p{1.5cm}|}{\centering \textbf{\textbf{RAM [GB]}}} \\ \hline \hline
            LG Nexus 5             & 5.1.0 & 4.95 & 1080 x 1920 & 4   & 2.3 GHz & 2   \\ \hline
            Asus Nexus 7 2013      & 5.1.0 & 7.0  & 1200 x 1920 & 4   & 1.5 GHz & 2   \\ \hline
            Samsung Galaxy Xcover  & 4.1.2 & 4.0  & 480 x 800   & 2   & 1 GHz   & 1   \\ \hline
            Sony Xperia active     & 4.0.4 & 3.0  & 320 x 480   & 1   & 1 GHz   & 0.5 \\ \hline
            Emulator               & 4.4.2 & 4.5  & 720 x 1280  & --  & --      & 1.5 \\ \hline
        \end{tabular}
    }
    \centering
    \caption{Configuration of testing devices.}
    \label{TestingDevicesTable}
\end{table}

\subsubsection{Comparative measurements}
After testing and debugging the application, two comparative measurements are performed on the devices mentioned in
Table~\ref{TestingDevicesTable} and on one desktop computer with parameters described in
Table~\ref{TestingComputerTable}. On the desktop computer, simple OptaPlanner project calculating the same Vehicle
Routing problems has been created. On the mobile testing devices, graphical part is excluded and only calculation itself
is measured. The goal of these measurements is to compare capabilities of Android devices with a~standard desktop
computer and it should verify if Android devices are capable to use OptaPlanner.
\\
\begin{table}[h!]
    \begin{tabular}{|c|c|}
        \hline
        \textbf{Parameter} &
        \textbf{Value} \\ \hline \hline
        Device    & Notebook Lenovo ThinkPad T430s \\ \hline
        CPU       & Intel Core i7-3520M 2.90GHz    \\ \hline
        RAM       & 16 GB                          \\ \hline
        OS        & Fedora 21 64b                  \\ \hline
    \end{tabular}
    \centering
    \caption{Configuration of testing computer.}
    \label{TestingComputerTable}
\end{table}

For both tests, three testing vrp files are used. They differ in the number of customers, the number of vehicles and
the capacity of vehicles. Parameters of the three used files are shown in Table~\ref{TestingFilesTable}. The same files
are also used in the application on the desktop computer.
\\
\begin{table}[h!]
    \begin{tabular}{|l|c|c|c|}
        \hline
        \textbf{Vrp file} &
        \textbf{Number of customers} &
        \textbf{Number of vehicles} &
        \textbf{Vehicle capacity} \\ \hline \hline
        A-n32-k5.vrp   & 31   & 5 & 100  \\ \hline
        A-n64-k9.vrp   & 63   & 9 & 100  \\ \hline
        F-n135-k7.vrp  & 134  & 7 & 2210 \\ \hline
    \end{tabular}
    \centering
    \caption{Testing files.}
    \label{TestingFilesTable}
\end{table}

First test deals with a~time of the first found solution. Each test case is measured five times and the arithmetic mean
value ($\mu$) and standard deviation ($\sigma$) was calculated. The values are written in Table~\ref{FirstFoundTable}.
As can be seen, differences between the desktop computer and the mobile devices are quite substantial. Thus, the more
complex problems the difference between them rapidly grows. It can be also observed that more powerful mobile devices
(Nexus 5 and 7) surpass older devices (Samsung Xcover and Sony Xperia) with worse CPU and performance of emulator is
approximately equal to the most powerful mobile device (Nexus 5).
\\
\begin{table}[h!]
    \catcode`\-=12
    \begin{tabular}{|l|c|c|c|c|c|c|}
        \hline
        \multirow{2}{*}{\textbf{Device}} &
        \multicolumn{2}{c|}{\textbf{A-n32-k5.vrp}} &
        \multicolumn{2}{c|}{\textbf{A-n64-k9.vrp}} &
        \multicolumn{2}{c|}{\textbf{F-n135-k7.vrp}} \\ \cline{2-7}
        & $\mu$ & $\sigma$ & $\mu$ & $\sigma$ & $\mu$ & $\sigma$ \\ \hline \hline
        LG Nexus 5            & 0,162 & 0,034 & 0,561 & 0,031 & 2,760  & 0,063 \\ \hline
        Asus Nexus 7 2013     & 0,228 & 0,027 & 0,795 & 0,023 & 4,132  & 0,070 \\ \hline
        Samsung Galaxy Xcover & 0,411 & 0,058 & 1,434 & 0,012 & 8,219  & 0,217 \\ \hline
        Sony Xperia active    & 0,755 & 0,136 & 2,705 & 0,027 & 16,334 & 0,062 \\ \hline
        Emulator              & 0,119 & 0,021 & 0,386 & 0,056 & 1,647  & 0,015 \\ \hline
        Desktop computer      & 0,075 & 0,006 & 0,130 & 0,013 & 0,284  & 0,017 \\ \hline
    \end{tabular}
    \centering
    \caption{Time of first found solution in seconds (less is better).}
    \label{FirstFoundTable}
\end{table}

Second test is displayed in Table~\ref{ScoreLimitTable} and it is based on 10 seconds time limit. After the time limit
the best soft score was saved and of five measurements the largest was selected. Soft score shows a~distance of the all
vehicles which is traveled between customers and depot as a~negative value. A~higher value means a~smaller distance.
Quite substantial difference is appears again between mobile devices and desktop computer. Although the Nexus devices
have different parameters they reached same results in two cases. The oldest device (Sony Xperia active) did not reach
any result in the appointed time limit for the last case.
\\
\begin{table}[h!]
    \begin{tabular}{|l|c|c|c|}
        \hline
        \textbf{Device} &
        \textbf{A-n32-k5.vrp} &
        \textbf{A-n64-k9.vrp} &
        \textbf{F-n135-k7.vrp} \\ \hline \hline
        LG Nexus 5            & -857311 & -1597400 & -1411795 \\ \hline
        Asus Nexus 7 2013     & -857311 & -1624700 & -1411795 \\ \hline
        Samsung Galaxy Xcover & -879018 & -1631923 & -1420843 \\ \hline
        Sony Xperia active    & -894553 & -1633708 & --       \\ \hline
        Emulator              & -855010 & -1597400 & -1411448 \\ \hline
        Desktop computer      & -787082 & -1424148 & -1292057 \\ \hline
    \end{tabular}
    \centering
    \caption{The best soft score after 10 seconds time limit (larger is better).}
    \label{ScoreLimitTable}
\end{table}

Although, there is a~significant difference between the desktop computer and Android phones or tablet, these mobile
devices are still sufficiently fast to use OptaPlanner tool and solve such kind of problem.

From testing and measuring, it can be said that portation of OptaPlanner is successful. Standard Java score calculation
of OptaPlanner is used and the calculation process is able to achieve satisfying times on the real mobile devices. Also,
there were no problems recorded with OptaPlanner tool and its use.

\section{Future work}\label{FutureWorkSection}
This section describes future work which comes after this project. There are already plans how to improve OptaPlanner
integration to Android system and in addition, there are two main projects which will be primarily processed.

\paragraph{OptaPlanner game}
Because OptaPlanner works on Android, there are many ways how to use it. One of them is to create a~simple game where
user goal is to defeat the OptaPlanner by finding shortest way for vehicles. By clicking on the customers user can
create road for vehicle to the depot. Meanwhile, time is measured and when user finishes his task, OptaPlanner do the
same and results are compared. This is the preliminary proposal of the game that follows this work.

\paragraph{Drools}
As noted in Chapter~\ref{PortingChapter}, Drools package is not included in the poration due to its size and complexity.
There are plans to port Drools tool to Android separately. If the portation is successful, it will be deployed and
tested together with OptaPlanner. Although Drools tool consumes a~lot of computer resources, current mobile devices
already have high performance and it might be interesting to have such instrument on Android platform.
